<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <title>หน้าหลัก - ระบบจัดการที่จอดรถ</title>
    <style>
        * { box-sizing: border-box; margin: 0; padding: 0; font-family: sans-serif; }
        body { display: flex; height: 100vh; background: #f0f2f5; }
        
        .sidebar { width: 260px; background: #1a1a1a; color: white; padding: 20px; display: flex; flex-direction: column; }
        .sidebar h3 { margin-bottom: 30px; color: #3498db; text-align: center; }
        .sidebar a { color: #bbb; text-decoration: none; padding: 15px; display: block; border-radius: 8px; margin-bottom: 5px; }
        .sidebar a:hover { background: #333; color: white; }
        
        .content { flex: 1; padding: 40px; }
        .video-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(500px, 1fr)); gap: 20px; }
        .cam-card { background: #000; aspect-ratio: 16/9; border-radius: 12px; position: relative; display: flex; align-items: center; justify-content: center; color: #666; border: 4px solid white; box-shadow: 0 4px 15px rgba(0,0,0,0.1); }
        .cam-label { position: absolute; top: 15px; left: 15px; background: rgba(231, 76, 60, 0.8); color: white; padding: 5px 12px; border-radius: 20px; font-size: 12px; }
        
        .logout { margin-top: auto; background: #c0392b !important; text-align: center; }
    </style>
</head>
<body>

    <script>
        if (sessionStorage.getItem("isLoggedIn") !== "true") {
            window.location.href = "index.html";
        }
    </script>

    <div class="sidebar">
        <h3>Cougar2</h3>
        <a href="#">หน้าหลัก</a>
        <a href="<iframe src="https://calendar.google.com/calendar/embed?src=0862ce80073c1952685942ed711afe8838017aeda13bd78dd57f561929e4b083%40group.calendar.google.com&ctz=Asia%2FBangkok" style="border: 0" width="800" height="600" frameborder="0" scrolling="no"></iframe>">ปฏิทินกิจกรรม</a>
        <a href="map.html">Map</a>
        <a href="#" class="logout" onclick="logout()">ออกจากระบบ</a>
    </div>

<div class="content">
    <h1 style="margin-bottom: 20px; color: #333;">ระบบสตรีมสดกล้อง 4 ตัว</h1>
    <div class="video-grid">
        
        <div class="cam-card">
            <div class="cam-label">● LIVE - กล้อง 1</div>
            <video id="video1" class="video-player" autoplay muted playsinline controls></video>
        </div>

        <div class="cam-card">
            <div class="cam-label">● LIVE - กล้อง 2</div>
            <video id="video2" class="video-player" autoplay muted playsinline controls></video>
        </div>

        <div class="cam-card">
            <div class="cam-label">● LIVE - กล้อง 3</div>
            <video id="video3" class="video-player" autoplay muted playsinline controls></video>
        </div>

        <div class="cam-card">
            <div class="cam-label">● LIVE - กล้อง 4</div>
            <video id="video4" class="video-player" autoplay muted playsinline controls></video>
        </div>

    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>

<script>
    function setupVideo(videoId, streamUrl) {
        var video = document.getElementById(videoId);
        if (Hls.isSupported()) {
            var hls = new Hls();
            hls.loadSource(streamUrl);
            hls.attachMedia(video);
            hls.on(Hls.Events.MANIFEST_PARSED, function() {
                video.play();
            });
        } else if (video.canPlayType('application/vnd.apple.mpegurl')) {
            video.src = streamUrl;
            video.addEventListener('loadedmetadata', function() {
                video.play();
            });
        }
    }

    // --- ใส่ลิงก์กล้องทั้ง 4 ตัวที่นี่ ---
    setupVideo('video1', 'https://streaming.udoncity.go.th:1935/live/cctv_121.stream/chunklist_w2010918290.m3u8');
    setupVideo('video2', 'https://streaming.udoncity.go.th:1935/live/Axis_12_33.stream/chunklist_w34733218.m3u8');
    
    // เปลี่ยน URL ด้านล่างนี้เป็นลิงก์กล้องตัวใหม่ของคุณ
    setupVideo('video3', 'https://streaming.udoncity.go.th:1935/live/Axis_12_38.stream/chunklist_w1610502304.m3u8'); 
    setupVideo('video4', 'https://streaming.udoncity.go.th:1935/live/Axis_12_22.stream/chunklist_w236554495.m3u8');
</script>

<style>
    .video-grid {
        display: grid;
        /* ปรับ minmax ให้เล็กลงหน่อยเพื่อให้โชว์ 2 ตัวต่อแถวได้สวยๆ */
        grid-template-columns: repeat(auto-fit, minmax(400px, 1fr)); 
        gap: 20px;
    }
    .cam-card {
        background: #000;
        border-radius: 12px;
        aspect-ratio: 16 / 9;
        position: relative;
        overflow: hidden;
        border: 2px solid #fff;
        box-shadow: 0 4px 10px rgba(0,0,0,0.2);
    }
    .video-player {
        width: 100%;
        height: 100%;
        object-fit: cover;
    }
    .cam-label {
        position: absolute;
        top: 10px;
        left: 10px;
        background: rgba(231, 76, 60, 0.9);
        color: white;
        padding: 4px 12px;
        border-radius: 15px;
        font-size: 12px;
        z-index: 10;
    }
</style>

<style>
    /* ปรับแต่ง Grid ให้ดูทันสมัยขึ้น */
    .video-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(450px, 1fr));
        gap: 25px;
    }

    .cam-card {
        background: #000;
        border-radius: 12px;
        aspect-ratio: 16 / 9;
        position: relative;
        box-shadow: 0 8px 20px rgba(0,0,0,0.2);
        border: 2px solid #fff;
    }

    .cam-label {
        position: absolute;
        top: 15px;
        left: 15px;
        background: rgba(231, 76, 60, 0.9);
        color: white;
        padding: 5px 15px;
        border-radius: 20px;
        font-size: 13px;
        font-weight: bold;
        z-index: 10;
        letter-spacing: 0.5px;
        box-shadow: 0 2px 5px rgba(0,0,0,0.3);
    }
</style>

    <script>
        function logout() {
            sessionStorage.clear();
            window.location.href = "index.html";
        }
    </script>
</body>
</html>









